compiler:
 - gcc

os:
 - osx

python:
 - "2.7"

install:
 - sudo pip install . -q
 - curl -s -L https://github.com/supercollider/supercollider/releases/download/Version-3.7.1/SuperCollider-OSX-3.7.1.zip -o SuperCollider-Mac.zip
 - unzip -qq -d . SuperCollider-Mac.zip
 - qpm quark checkout CommonTests CommonTestsGUI --location $HOME/Quarks
 - qpm test.list -o --path ./SuperCollider/SuperCollider.app

script:
 - cp ./qpm/scscripts/travis_run_prototype.json ./travis_test_run.json
 - qpm test.run -l ./travis_test_run.json --path ./SuperCollider/SuperCollider.app --include $HOME/Quarks; export TEST_STATUS=$?
 - echo Exit status $TEST_STATUS
 - exit $TEST_STATUS

notifications:
  on_success: change
  on_failure: change
 
